/* chartist-plugin-accessibility 0.0.1
 * Copyright Â© 2015 Gion Kunz
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a["Chartist.plugins.ctAccessibility"]=b()}(this,function(){return function(a,b,c){"use strict";function d(a,b,c){return{elem:function(a,b){var c=d(a,b,this);return this.children.push(c),c},children:[],name:a,_attrs:b||{},_parent:c,parent:function(){return this._parent},attrs:function(a){return this._attrs=a,this},text:function(a,b){return b?this._textAfter=a:this._textBefore=a,this},toString:function(){var a=Object.keys(this._attrs).filter(function(a){return this._attrs[a]||0===this._attrs[a]}.bind(this)).map(function(a){return[a,'="',this._attrs[a],'"'].join("")}.bind(this)).join(" ");return["<",this.name,a?" "+a:"",">",this._textBefore].concat(this.children.map(function(a){return a.toString()})).concat([this._textAfter,"</",this.name,">"]).join("")}}}var e={caption:"A graphical chart",seriesHeader:"Series name",valueTransform:c.noop,summary:void 0,elementId:function(){return"ct-accessibility-table-"+ +new Date},visuallyHiddenStyles:"position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden;"};c.plugins=c.plugins||{},c.plugins.ctAccessibility=function(a){return a=c.extend({},e,a),function(b){var e,f="function"==typeof a.elementId?a.elementId():a.elementId;b.on("created",function(g){e&&e.parentNode.removeChild(e),g.svg.attr({"aria-hidden":"true"});var h=d("div",{style:a.visuallyHiddenStyles,id:f}),i=h.elem("table",{summary:a.summary}).elem("caption").text(a.caption).elem("tbody"),j=i.elem("tr");if(b instanceof c.Pie){var k=c.getDataArray(b.data,b.optionsProvider.getCurrentOptions().reverseData);b.data.labels.forEach(function(a){j.elem("th",{scope:"col",role:"columnheader"}).text(a)});var l=i.elem("tr");k.forEach(function(b){l.elem("td").text(a.valueTransform(b))})}else{var m=c.normalizeDataArray(c.getDataArray(b.data,b.optionsProvider.currentOptions.reverseData),b.data.labels.length);[a.seriesHeader].concat(b.data.labels).forEach(function(a){j.elem("th",{scope:"col",role:"columnheader"}).text(a)}),b.data.series.forEach(function(b,c){var d=b.name||[c+1,". Series"].join(""),e=i.elem("tr");e.elem("th",{scope:"row",role:"rowheader"}).text(d),m[c].forEach(function(b){e.elem("td").text(a.valueTransform(b))})})}b.container.innerHTML+=h.toString(),e=b.container.querySelector("#"+f)})}}}(window,document,Chartist),Chartist.plugins.ctAccessibility});
//# sourceMappingURL=chartist-plugin-accessibility.min.js.map